---
title: 贝叶斯滤波学习笔记
date: 2022-2-24 12:30:12
categories:
  - slam
  - 理论学习
tags:
  - slam
---

# 参考网址

  [忠厚老实的老王的个人空间_哔哩哔哩_bilibili](https://space.bilibili.com/287989852/video?tid=0&page=2&keyword=&order=pubdate) 

# 笔记

```txt
随机过程:(无法做随机试验)

大数定律:(1,可重复2,可能已知3,结果不可预知)
例如:股票  (不可重复 - 时间)

主观概率:(贝叶斯学派)
引入外部观测(证据,信息)

主观概率(先验概率)-------外部观测----->相对客观概率(后验概率)

<概率机器人> pdf与cdf 概率密度,概率分布混用

X,Y 随机变量
x,y 随机变量取值,代表可能结果

测温: 今天多少度?

先验概率分布 : 
{
	P(T=10) = 0.8
	P(T=11) = 0.2
}

温度计: Tm = 10.3
			 因   果         果  因
后验概率:  P(状态|观测) = nP(观测|状态)P(状态) pdf(概率密度)
由果推测因	   后验         似然概率	   先验

似然概率: 表示观测精度,误差(最有可能)
由因推测果

n = 求积分(1/(似然*先验))

所以:P(T=10|Tm=10.3)=P(Tm=10.3|T=10)*P(T=10)/P(Tm=10.3)
这里的1/P(Tm=10.3)=n 为常数

推导:
由于全概率公式:
P(Tm=10.3) = P(T=10|Tm=10.3)*P(T=10)+P(T=11|Tm=10.3)*P(T=11)
这里的似然是仪器误差是确定的,预测误差也是确定的,因此P(Tm=10.3)是一个常数

<概率论与数理统计>

连续随机变量下得贝叶斯公式 

f(状态|观测) = nf(观测|状态)f(状态)   cdf(概率分布)


例:满足正太分布计算温度
预测温度(10,1^2) 观测温度(9,0.2^2) 后验(9.0385,0.038^2)

按照公式:f(状态|观测) = nf(观测|状态)*f(状态)

先验概率:f(状态) = 1/(sqrt(2*pi)*1)*exp(-(x-10)^2/(2*1^2))
似然概率:f(观测|状态) = 1/(sqrt(2*pi)*0.2)*exp(-(x-9)^2/(2*0.2^2))
后验概率:f(状态|观测) = n*1/(2*pi*0.2)*exp(-0.5*((x-10)^2+((x-9)/2)^2))
1/n = (积分)1/(2*pi*0.2)*exp(-0.5*((x-10)^2+((x-9)/2)^2))dx


更简单的方式,直接套用公式:后验N(Ex,Dx),这里使用s代替sigma u1代表预测值,u2代表测量值
Ex = s2^2/(s1^2+s2^2)*u2+s1^2/(s1^2+s2^2)*u1
Dx = s1^2*s2^2/(s1^2+s2^2)

贝叶斯滤波完整算法:
 - 设定初值
 	- x0pdf f0(x)
 - 预测步
	- fk_minus = (积分)fQk[x-f(v)]*fk-1_plus(v)dv
 - 更新步
 	- fk_plus = nk*fRk[yk-h(x)]*fk_minus(x)
 	- nk = ((积分)(fRk[yk-h(x)])*fk_minus(x)dx)^-1
 	
由于算法中由三个无穷积分,大多数情况下无解析解
所以产生了很多骚操作

解决方法:
	1, 作假设:
		- 假设f(xk-1),h(xk)为线性,Qk,Rk为正态分布:KF滤波
		- f(-),h(-)为非线性,EKF,UKF
	2,霸王硬上弓 - 直接对无穷积分做数值处理:
		- 高斯积分(不常用)
		- 蒙特卡洛积分(pf)
		- 直方图滤波
```

